{"version":3,"sources":["Carousel.js","Modal.js","Details.js"],"names":["Carousel","props","state","photos","active","handleIndexClick","bind","event","setState","target","dataset","index","value","map","photo","media","filter","React","Component","Modal","el","document","createElement","modalRoot","getElementById","appendChild","removeChild","children","petfinder","key","secret","Details","loading","showModal","toggleModal","pet","get","output","id","then","data","breed","Array","isArray","breeds","join","name","animal","location","contact","city","description","catch"],"mappings":"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","file":"Details.180b8e97.map","sourceRoot":"../src","sourcesContent":["import React from \"react\";\n\nclass Carousel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      photos: [],\n      active: 0\n    };\n    this.handleIndexClick = this.handleIndexClick.bind(this);\n  }\n\n  static getDerivedStateFromProps({ media }) {\n    let photos = [];\n\n    if (media && media.photos && media.photos.photo) {\n      photos = media.photos.photo.filter(photo => photo[\"@size\"] === \"pn\");\n    }\n\n    return { photos: photos };\n  }\n\n  handleIndexClick(event) {\n    this.setState({\n      active: +event.target.dataset.index\n    });\n  }\n\n  render() {\n    const { photos, active } = this.state;\n    return (\n      <div className=\"carousel\">\n        <img src={photos[active].value} alt=\"primary animal\" />\n        <div className=\"carousel-smaller\">\n          {photos.map((photo, index) => (\n            /* eslint-disable-next-line */\n            <img\n              onClick={this.handleIndexClick}\n              key={photo.value}\n              data-index={index}\n              src={photo.value}\n              className={index === active ? \"active\" : \"\"}\n              alt=\"animal thumbnail\"\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Carousel;\n","// taken from React docs\nimport React from \"react\";\nimport { createPortal } from \"react-dom\";\n\nclass Modal extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.el = document.createElement(\"div\");\n    this.modalRoot = document.getElementById(\"modal\");\n    this.modalRoot.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    this.modalRoot.removeChild(this.el);\n  }\n\n  render() {\n    return createPortal(this.props.children, this.el);\n  }\n}\n\nexport default Modal;\n","import React from \"react\";\nimport pf from \"petfinder-client\";\nimport { navigate } from \"@reach/router\";\nimport Carousel from \"./Carousel\";\nimport Modal from \"./Modal\";\n\nconst petfinder = pf({\n  key: process.env.API_KEY,\n  secret: process.env.API_SECRET\n});\n\nclass Details extends React.Component {\n  state = { loading: true, showModal: false };\n  componentDidMount() {\n    petfinder.pet\n      .get({\n        output: \"full\",\n        id: this.props.id\n      })\n      .then(data => {\n        let breed;\n        if (Array.isArray(data.petfinder.pet.breeds.breed)) {\n          breed = data.petfinder.pet.breeds.breed.join(\", \");\n        } else {\n          breed = data.petfinder.pet.breeds.breed;\n        }\n        this.setState({\n          name: data.petfinder.pet.name,\n          animal: data.petfinder.pet.animal,\n          location: `${data.petfinder.pet.contact.city}, ${\n            data.petfinder.pet.contact.state\n          }`,\n          description: data.petfinder.pet.description,\n          media: data.petfinder.pet.media,\n          breed,\n          loading: false\n        });\n      })\n      .catch(() => {\n        navigate(\"/\");\n      });\n  }\n  toggleModal = () => this.setState({ showModal: !this.state.showModal });\n  render() {\n    if (this.state.loading) {\n      return <h1>loading … </h1>;\n    }\n\n    const {\n      media,\n      animal,\n      breed,\n      location,\n      description,\n      name,\n      showModal\n    } = this.state;\n\n    return (\n      <div className=\"details\">\n        <Carousel media={media} />\n        <div>\n          <h1>{name}</h1>\n          <h2>{`${animal} — ${breed} — ${location}`}</h2>\n          <button onClick={this.toggleModal}>Adopt {name}</button>\n          <p>{description}</p>\n          {showModal ? (\n            <Modal>\n              <h1>Would you like to adopt {name}?</h1>\n              <div className=\"buttons\">\n                <button onClick={this.toggleModal}>Yes</button>\n                <button onClick={this.toggleModal}>No</button>\n              </div>\n            </Modal>\n          ) : null}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Details;\n"]}